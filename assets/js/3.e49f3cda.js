(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{327:function(e,t,s){},356:function(e,t,s){"use strict";s(327)},362:function(e,t,s){"use strict";s.r(t);s(172),s(167);var a={name:"PwRest",data:function(){return{ui:{btnTest:"Testar",requestType:"cURL",requestExample:""},api:{fetching:!1,response:"",message:"",error:!1}}},computed:{setPath:function(){return""===this.pathAlias?this.path:this.pathAlias},selectedRequestType:{get:function(){return this.ui.requestType},set:function(e){this.ui.requestType=e}}},watch:{selectedRequestType:function(e){this.ui.requestExample=this.getRequestExample(e,this.method,"".concat(this.url).concat(this.path))}},created:function(){"cURL"!==this.requestType&&(this.ui.requestType=this.requestType),this.ui.requestExample=this.getRequestExample(this.requestType,this.method,"".concat(this.url).concat(this.path))},methods:{copyRequestExample:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);var s=document.createElement("span");s.classList.add("tip"),s.innerText="Copiado",document.querySelector("#reqExample").firstElementChild.appendChild(s)},getRequestExample:function(e,t,s){if("GET"!==t)throw new Error("invalid params reqType:".concat(e," or method: ").concat(t," or reqUrl: ").concat(s));switch(e){case"Fetch":return"fetch('".concat(s,"', {\n\tmethod: 'GET',\n\tcredentials: 'same-origin'\n\t}).then(function(response) {\n\t\tresponse.status\n\t\tresponse.statusText\n\t\tresponse.headers\n\t\tresponse.url\n\t\treturn response.text()\n\t}).catch(function(error) {\n\t\terror.message\n})");case"JavaScript XHR":return"const xhr = new XMLHttpRequest()\nxhr.open('GET', '".concat(s,"', true, null, null)\nxhr.send()");default:return"cURL -X GET ".concat(s)}},stringfyRes:function(e){return JSON.parse(e,null,2)},send:function(e,t){var s=this;this.api.fetching=!0,this.api.message="Enviando solicitação...";var a=new XMLHttpRequest;a.addEventListener("load",(function(e){s.api.response=s.stringfyRes(e.target.response),s.api.fetching=!1,s.api.message=null,s.ui.btnTest="Testar novamente"})),a.addEventListener("error",(function(e){s.api.response=e.target.response,s.api.fetching=!1,s.api.message="Erro! A requisição falhou"})),a.addEventListener("abort",(function(e){s.api.fetching=!1,s.api.message="Erro! A requisição foi cancelada"})),a.open(t,e,!0,null,null),a.send()}},props:{description:{type:String,default:""},url:{type:String,required:!0},path:{type:String,default:""},pathAlias:{type:String,default:""},method:{type:String,default:"GET"},label:{type:String,default:""},auth:{type:String,validator:function(e){return-1!==["None","Basic","Bearer Token"].indexOf(e)}},httpUser:{type:String,default:""},httpPassword:{type:String,default:""},bearerToken:{type:String,default:""},headers:{type:Array},params:{type:Array},bodyParams:{type:Array},rawParams:{type:String,default:""},rawInput:{type:String,default:""},contentType:{type:String,validator:function(e){return-1!==["application/json","application/hal+json","application/xml","application/x-www-form-urlencoded","text/html","text/plain"].indexOf(e)}},requestType:{type:String,validator:function(e){return-1!==["JavaScript XHR","Fetch","cURL"].indexOf(e)},default:"cURL"},passwordFieldType:{type:String,validator:function(e){return-1!==["password","text"].indexOf(e)}}}},n=(s(356),s(42)),r=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"pw-rest"},[s("h3",{staticClass:"pw-rest__item"},[s("span",[e._v(e._s(e.method))]),e._v(" "),s("a",{attrs:{href:e.url+e.path}},[e._v("/"+e._s(e.setPath))])]),e._v(" "),s("main",{staticClass:"area request"},[s("h4",{staticClass:"label"},[e._v("URL")]),e._v(" "),s("code",{staticClass:"pw-rest__item"},[e._v("\n\t\t\t"+e._s(e.url)+e._s(e.setPath)+"\n\t\t")]),e._v(" "),s("h4",{staticClass:"label"},[e._v("Descrição")]),e._v(" "),s("p",{staticClass:"pw-rest__item description"},[e._v(e._s(e.description))]),e._v(" "),s("div",{staticClass:"pw-rest__item example"},[s("header",[s("h4",{staticClass:"label"},[e._v("Exemplo de requisição")]),e._v(" "),s("div",[s("span",[e._v("Linguagem:")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedRequestType,expression:"selectedRequestType"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedRequestType=t.target.multiple?s:s[0]}}},[s("option",[e._v("JavaScript XHR")]),e._v(" "),s("option",[e._v("Fetch")]),e._v(" "),s("option",[e._v("cURL")])])])]),e._v(" "),s("div",{staticClass:"extra-class",class:{"language-sh":"cURL"===e.selectedRequestType,"language-js":"Fetch"===e.selectedRequestType||"JavaScript XHR"===e.selectedRequestType},attrs:{id:"reqExample"},on:{click:function(t){return t.preventDefault(),e.copyRequestExample(e.ui.requestExample)}}},[s("pre",[s("code",[e._v(e._s(e.ui.requestExample))])]),s("span",{staticClass:"onhover"},[e._v("Clique para copiar")])])]),e._v(" "),s("button",{class:{fetching:e.api.fetching},attrs:{id:"send"},on:{click:function(t){return t.preventDefault(),e.send(""+e.url+e.path,e.method)}}},[e.api.fetching?[s("span",[e._v(".")]),s("span",[e._v(".")]),s("span",[e._v(".")])]:[e._v(e._s(e.ui.btnTest)+" "),s("span",{staticClass:"reqName"},[e._v("/"+e._s(e.setPath))])]],2),e._v(" "),s("span",{staticClass:"badge",class:{error:e.api.error,display:e.api.message}},[e._v(e._s(e.api.message))])]),e._v(" "),s("aside",{staticClass:"area response"},[""!==e.api.message?s("div",{staticClass:"pw-rest__item"},[s("h4",[e._v("Resposta")]),e._v(" "),s("div",{staticClass:"language-json extra-class",class:{ready:!e.api.fetching}},[s("pre",{staticClass:"language-json"},[s("code",[e._v(e._s(e.api.response))])])])]):e._e()])])}),[],!1,null,"2e7f53c0",null);t.default=r.exports}}]);